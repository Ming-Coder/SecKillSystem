## 10000并发量性能测试
  > 测试脚本环境：E3-1230 v5 @ 3.40GHz X4  8G RAM  
  > 项目运行环境：i5-4200m X1 8G RAM

|并发控制|Avg|Min|Max|
|:-----:|:-:|:-:|:-:|
|悲观锁(未使用缓存)X1|5733|11|16961
|悲观锁(未使用缓存)X2|6044|10|17806
|悲观锁(未使用缓存)X3|6593|10|19206
|乐观锁(未使用缓存)X1|3176|5|11399
|乐观锁(未使用缓存)X2|2594|6|9521
|乐观锁(未使用缓存)X3|5312|7|13707
|乐观锁(使用Redis缓存)X1|96|6|1322
|乐观锁(使用Redis缓存)X2|111|5|2336
|乐观锁(使用Redis缓存)X3|736|7|3545

## 悲观锁结果
![悲观锁](imgs/pessiX1.png)

## 乐观锁结果  
![乐观锁](imgs/optiX1.png)

## 乐观锁&&缓存结果  
![乐观锁&&缓存](imgs/optiCacheX2.png)  

## 1000000并发量测试 
  > 测试脚本环境：Intel(R) Core(TM) i7-6800K CPU @ 3.40GHz X4  16G RAM  
  > 项目运行环境：Intel(R) Xeon(R) CPU E3-1230 v5 @ 3.40GHz X4 8G RAM
  
## 问题
### 1.MySQL异常
`ERROR 1040 (HY000): Too many connections`，获取不到可用的连接，远程登录不上MySQL。原因是MySQL最大连接数量有限制，默认是151。
解决办法是修改最大连接数量

### 2.出现大量CLOSE_WAIT状态连接

